# Flexible Background Subtraction With Self-Balanced Local Sensitivity | Change detection

## 핵심 주장 및 주요 기여  
**SuBSENSE**(Self-Balanced SENsitivity SEgmenter)는 영상 시퀀스의 다양한 배경 변화 시나리오에 대해 일관되게 높은 분할 성능을 내면서도 시나리오별 매개변수 튜닝 없이 자동으로 적응하는 비모수적 픽셀 기반 배경 제거 기법이다.  
이 논문의 주요 기여는 다음과 같다:  
- 픽셀 단위의 **색상(RGB)과 시공간 Local Binary Similarity Pattern(LBSP)** 특징 결합  
- 픽셀별 피드백 루프를 통해 **민감도 임계치(R(x))**, **모델 업데이트 속도(T(x))**, **피드백 스케일링 변수(v(x))**를 자동 조정  
- 깜빡임 및 고스트 검출 정책을 포함한 **다중 동적 모니터링**  
- 2012·2014 CVPR ChangeDetection 데이터셋 전 범주에서 기존 최상위 기법 대비 우수한 F-Measure 달성  

## 해결하고자 하는 문제  
기존 배경 제거 알고리즘은 보통 정적 파라미터를 사용하거나 특정 시나리오에 특화된 튜닝이 필요해, 다양한 환경(조명 변화, 움직이는 배경, PTZ, 나이트 비디오 등)에 동시에 적용하기 어렵다.  
SuBSENSE는 픽셀별 피드백으로 **지역별 동적 변화 강도**를 실시간 측정하여, 어느 영역이 더 민감한 처리를 요구하는지 자동으로 판단하고 파라미터를 조정함으로써 이 문제를 해결한다.

## 제안 방법  
1. **모델 구성**  
   - 각 픽셀 위치 x에 대해 과거 N=50개의 샘플 B(x) 보관  
   - 현재 표현 It(x): 8-bit RGB + 16-bit LBSP  
2. **배경/전경 결정**  
   - It(x)와 B(x) 간 L1(색상)·해밍(LBSP) 거리를 계산  
   - #min(=2)개 이상 일치하면 배경(St(x)=0), 아니면 전경(St(x)=1)  
3. **민감도 임계치 R(x) 자동 조정**  
   - 최소 거리의 이동 평균 Dmin(x)  
   -  

$$
       R_{\text{color}} = R(x)\cdot R_{0,\text{color}},\quad
       R_{\text{lbsp}} = 2^{R(x)}+R_{0,\text{lbsp}}
     $$  
   
   -  

$$
       R(x)\gets
       \begin{cases}
         R(x)+v(x), & R(x)<(1+2Dmin(x))^2,\\
         R(x)-\frac{1}{v(x)}, & \text{otherwise}
       \end{cases}
     $$  

4. **피드백 변수 v(x) 조정**  
   - St(x)와 St(x–1) XOR로 깜빡임 감지  
   - 깜빡임 시 v(x) 증가, 아니면 서서히 감소  
5. **모델 업데이트 속도 T(x) 조정**  
   - 전경 시 $$T(x)\gets T(x)+\tfrac{1}{v(x)\,Dmin(x)}$$, 배경 시 $$T(x)\gets T(x)-\tfrac{v(x)}{Dmin(x)}$$  
   - 프레임 전반의 갑작스러운 변화(카메라 움직임) 시 T(x) 범위(Tlower, Tupper) 스케일링  
6. **고스트 검출·해결**  
   - 같은 영역이 300프레임 이상 전경으로 분류되고 프레임 간 차이가 미미할 때, 임시로 T(x)=4로 설정해 업데이트 확률 증가  

## 모델 구조  
SuBSENSE는 픽셀별 **샘플 저장소**, **분류기**, **피드백 루프(R(x), v(x), T(x))**로 이루어지며, 각 픽셀마다 독립적으로 동작하면서 전체 영상에 병렬 적용된다.

## 성능 향상  
- 2012·2014 CDNet 전 카테고리 통합 평균 F-Measure 0.7331  
- 2012 데이터셋에서는 평균 순위 2.16위, 2014 데이터셋에서는 F-Measure 0.7331로 최고치  
- PTZ·Night 비디오 외 모든 시나리오에서 F-Measure 60% 이상  
- 구현 시 C++ 단일 스레드로 30 FPS 이상 처리  

## 한계  
- PTZ(카메라 팬·틸트·줌) 및 나이트 비디오에서 잦은 조명 변화·시점 이동 처리 미흡  
- 픽셀 단위만으로는 고차원적 지역 구조나 넓은 문맥을 반영하기 어려움  
- 복잡한 도시 환경·강한 비·눈·터뷸런스에서 높은 Dmin 축적로 인한 **갱신 지연**  

## 일반화 성능 향상 가능성  
- **지역 단위 동작(슈퍼픽셀·세그먼트)**과 결합하여 공간적 문맥 활용  
- **광학 흐름(Optical Flow)**이나 **딥러닝 기반 특징**으로 LBSP·RGB 외 정보 추가  
- **Markov Random Field** 또는 **CRF** 기반 후처리로 지역 일관성 강화  
- 카메라 모션 보정을 위한 **비디오 안정화** 전처리 모듈 통합  

## 향후 연구 및 고려 사항  
앞으로 SuBSENSE의 접근법을 확장할 때는 **공간적 상관성**, **딥러닝 특징**, **지역 기반 모델**, **추론 단계 후처리** 등을 고려하여 PTZ·나이트·복잡한 환경에서도 자동 적응력이 유지되도록 하는 것이 중요하다. 또한, 실시간 성능을 유지하면서도 **고차원적 컨텍스트**를 반영하기 위한 경량화된 학습·추론 구조 설계도 주요 연구 주제가 될 것이다.

[1](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/22370781/791bf292-cb81-460f-b07b-4d385384ea3f/St-Charles_Flexible_Background_Subtraction_2014_CVPR_paper.pdf)
