이미지는 시각의 핵심이며, 이를 처리하고 분석하는 방법은 단순한 것부터 복잡한 것까지 다양합니다. 본 장에서는 간단한 알고리즘에 초점을 맞추고 있으며, 이러한 알고리즘이 갖는 중요한 섬세함을 이해하는 것이 중요합니다. 이 장의 주요 내용은 다음과 같습니다:

- 다양한 이미지 유형: 이진, 그레이 스케일, 색상
- 이미지 처리 작업을 위한 간결한 표기법
- 기본 픽셀 작업: 지우기, 복사, 반전, 임계값 처리
- 기본 창 작업: 이동, 축소, 확대
- 그레이 스케일 밝기 조정 및 대비 늘리기 작업
- 이진 에지 위치 지정 및 잡음 제거 작업
- 다중 이미지 및 컨볼루션 작업
- 순차적 작업과 병렬 작업 간의 구별 및 순차적 경우 발생할 수 있는 복잡성
- 이미지 가장자리에서 발생하는 문제
비록 초급 수준이지만, 이 장은 책의 1부와 2부에서 중요한 방법론을 제공합니다. 초기에 이 내용을 완전히 이해하면 후속의 복잡한 알고리즘 프로그래밍에서 많은 어려움을 방지할 수 있습니다.


# 2.1 INTRODUCTION
이 장은 이미지와 간단한 이미지 처리 작업에 관한 내용을 다루고 있습니다. 이 장의 주된 목적은 독자가 이후 장에서 다룰 보다 고급 이미지 분석 작업에 대한 기초 기술과 표기법을 익히도록 하는 것입니다. 그러나 여기에서 소개되는 이미지 처리 알고리즘은 원거리 감지, 의학, 포렌식, 군사 및 과학 응용 분야에 이르기까지 다양한 분야에서 가치가 있습니다.

이 장에서는 적절한 센서로 획득한 이미지를 다루게 되며, 이러한 센서에 관해서는 후속 장에서 다룰 예정입니다. 예를 들어, 도식 2.1A에 나타난 이미지는 처음에는 일반적인 "흑백" 사진처럼 보이는 그레이 톤 이미지입니다. 그러나 자세히 살펴보면 이 이미지는 개별 화소(픽셀)로 구성된 것을 알 수 있습니다. 실제로 이 이미지는 128×128 배열의 픽셀로 이루어져 있습니다.

디지털 이미지의 한계를 더 잘 이해하기 위해 도식 2.1B에서는 42×42 섹션이 3배 확대되어 픽셀을 개별적으로 살펴볼 수 있도록 되어 있습니다. 이러한 그레이 톤 이미지가 64단계의 그레이 스케일로 디지털화된 것을 이해하기는 쉽지 않습니다. 높은 공간 해상도가 그레이 스케일 해상도의 부족을 어느 정도 보완하지만, 그로 인해 이상적인 이미지에서의 각 회색의 차이점을 보기 어려워집니다.

초기 텔레비전 카메라는 대개 약 50분의 1의 정밀도로 그레이 스케일 해상도를 제공하였으며, 이는 픽셀당 약 6비트의 유용한 정보를 의미합니다. 현대의 고체 상태 카메라는 노이즈를 덜 발생시키며 픽셀당 8비트 또는 9비트의 정보를 허용할 수도 있습니다. 그러나 인간의 눈에 보이지 않거나 로봇이 물체를 찾는 데 사용할 수 있는 다른 데이터가 엄청나게 많은 경우에는 그러한 높은 그레이 스케일 해상도를 목표로 하는 것이 의미가 없을 때도 많습니다.

만약 인간의 눈이 특정 공간적 및 그레이 스케일 해상도를 가진 디지털 이미지에서 물체를 볼 수 있다면, 원리적으로는 컴퓨터 알고리즘을 통해 동일한 작업을 수행할 수 있습니다. 그럼에도 불구하고 디지털 이미지로부터 매우 정확한 측정을 수행하기 위해서는 좋은 그레이 스케일 해상도를 유지하는 것이 가치 있는 다양한 응용 분야가 존재합니다. 이는 많은 로봇 응용 프로그램에서 부품을 높고 정확하게 검사하는 것이 중요합니다. 나중에 이에 대한 자세한 내용이 제공될 것입니다. 또한 2부에서는 일부 부품 효율적 위치 지정 기술이 1도 이하의 지역 엣지 방향을 추정해야 한다는 점을 보여줄 것이며, 이는 픽셀 당 최소 6비트의 그레이스케일 정보가 필요합니다.

## 2.1.1 GRAY SCALE VERSUS COLOR

이 논의는 색상을 기계 비전에서 사용하는 것의 본질적 가치와 함께 색상이 저장 및 처리에 미치는 추가적인 부담에 대한 것입니다. 현대 컴퓨터의 저렴한 가격으로 인해 색상 처리의 부담이 심각하지 않을 것이라는 생각이 유혹적일 수 있지만, CCTV 카메라에서 고해상도 이미지가 높은 데이터 속도로 들어오기 때문에 이 데이터의 분석은 오랜 시간이 걸릴 수 있습니다.

색상이 검사, 감시, 제어 등의 여러 응용 분야에서 중요한 역할을 할 수 있지만(예: 수술 중 의료 영상), 색상의 사용이 항상 필요하지 않다는 점도 유의해야 합니다. 간단한 검사 응용 프로그램에서는 형태가 더 중요할 수 있지만, 예를 들어 자동 과일 수확기에서는 색상이 결정적인 요소가 될 수 있습니다.

처리 측면에서도 색상 구분은 두 개체 유형을 분리하고 세분화하는 데 필요합니다. 색상 채널을 단순히 사용하거나 조합하여 구분하는 방법은 가벼운 처리 부하로 이어지지만, 색상 채널의 데이터를 최적화하여 동적으로 처리하는 것은 더 많은 주의가 필요합니다. 색상 신호는 비균질적이므로, 그레이 스케일 이미지와는 달리 색상 이미지 처리는 더욱 복잡합니다.

# 2.2 IMAGE PROCESSING OPERATIONS
이 글에서는 그림 2.1A와 2.7A의 이미지 처리를 상세히 다루고 있으며, 다양한 이미지 처리 작업이 이들 이미지에 어떻게 적용될 수 있는지를 설명합니다. 이미지를 처리하면서 원본 이미지는 하나의 저장 공간에 두고, 새로운 처리된 이미지는 다른 저장 공간에 생성하게 됩니다.

이제는 대부분의 컴퓨터에서 이러한 저장 공간이 다양한 이미지 "공간"인 P, Q, R 등에 저장된다고 가정합니다. 예를 들어, P 공간에 있는 이미지를 Q 공간으로 복사하는 과정을 통해 이미지를 처리할 수 있습니다.

이러한 기본적인 이미지 처리 작업들이 어떻게 이미지 해석에 기여하는지를 이해하는 데 도움이 되기를 바랍니다.

## 2.2.1 SOME BASIC OPERATIONS ON GRAYSCALE IMAGES
위의 내용은 이미지 처리를 위한 간단한 프로그래밍 예시들을 제시하고 있습니다. C11 혹은 유사한 언어에 대한 이해가 있는 독자를 대상으로 하고 있습니다. 이를 바탕으로 몇 가지 기본적인 이미지 처리 작업들을 소개하도록 하겠습니다.

### 이미지 초기화

가장 기본적인 작업 중 하나는 이미지의 내용을 일정한 값으로 설정하는 것입니다. 이를 위해 다음과 같은 C11 코드 예시를 사용합니다:

```
for (j = 0; j < 128; j++) {
    for (i = 0; i < 128; i++) {
        P[j][i] = alpha;
    }
}
```

여기서 `P[j][i]`는 픽셀의 강도를 나타내며, `alpha`는 설정하고자 하는 일정한 값입니다. 이와 같은 방식으로 이미지를 초기화할 수 있습니다.

### 이미지 복사

이미지를 한 공간에서 다른 공간으로 복사하는 작업은 다음과 같이 수행할 수 있습니다:

```
for (j = 0; j < 128; j++) {
    for (i = 0; i < 128; i++) {
        Q[j][i] = P[j][i];
    }
}
```

이렇게 함으로써 원본 이미지 `P`의 내용을 새로운 이미지 `Q`로 복사할 수 있습니다.

### 이미지 반전

이미지를 반전시키는 작업, 즉 사진 필름의 네거티브에서 포지티브로 변환하는 과정을 코드로 나타내면 다음과 같습니다:

```
for (j = 0; j < 128; j++) {
    for (i = 0; i < 128; i++) {
        Q[j][i] = 255 - P[j][i];
    }
}
```

여기서는 픽셀 강도의 범위가 0부터 255 사이로 설정되어 있습니다.

### 이미지 이동

더 나아가, 이미지를 왼쪽, 오른쪽, 위쪽, 아래쪽 또는 대각선으로 이동하는 작업도 가능합니다. 이 경우, 새로운 위치의 강도가 원본 이미지의 인근 위치와 동일하도록 설정함으로써 쉽게 구현할 수 있습니다.

이와 같이 단순한 이미지 처리 작업들은 기본적인 프로그래밍 기술을 바탕으로 쉽게 구현할 수 있으며, 다양한 이미지 조작의 기초를 형성합니다. 이러한 기본적인 기술들을 이해하고 활용하는 것은 더 복잡한 이미지 처리 기술을 배우는 데 큰 도움이 됩니다.

## 2.2.2 BASIC OPERATIONS ON BINARY IMAGES
이미지 이진화(Thresholding) 후에는 다양한 이진 영상 처리 작업이 가능해집니다. 본문에서 다룬 예는 어두운 이진 객체를 축소(shrinking)하거나(erosion 과정) 확장(expanding)하는(dilation 과정) 방법입니다.

축소(erosion): 이웃한 픽셀의 값들을 합한 sigma 값이 8 미만이면 현재 픽셀을 0으로, 그렇지 않으면 원래 픽셀 값을 유지합니다. 이 과정은 어두운 객체를 줄이면서 밝은 배경과 구멍을 확장시키는 효과를 냅니다.
확장(dilation): sigma 값이 0보다 크면 픽셀 값을 1로 설정하여 어두운 객체를 확장하거나 밝은 영역을 축소합니다.
여기서 sigma는 현재 픽셀 주변 8개 이웃의 합을 의미하며, 이를 통해 주변 픽셀의 상태를 판별합니다. 축소와 확장은 이처럼 이웃 픽셀을 검사하는 방식을 통해 구현됩니다.

따라서, 이진화 후에는 이러한 침식(erosion)과 팽창(dilation) 연산을 통해 객체의 형태를 조작하거나 경계를 찾는 작업 등이 가능합니다. 이는 3x3 이웃 영역을 활용해 간단하면서도 강력한 이미지 변형을 할 수 있는 기본 원리입니다.

# 2.3 CONVOLUTIONS AND POINT SPREAD FUNCTIONS
컨볼루션(Convolution)과 포인트 스프레드 함수(Point Spread Function, PSF)는 이미지 처리와 신호 처리에서 매우 중요한 개념입니다.

1. 컨볼루션

컨볼루션은 두 함수의 결합을 통해 새로운 함수를 생성하는 연산입니다. 수식으로 나타내면 다음과 같습니다:

$$
[
(f * g)(t) = \int_{-\infty}^{\infty} f(\tau) g(t - \tau) d\tau
]
$$

여기서:

( f )는 입력 신호(또는 이미지).
( g )는 필터(또는 커널)입니다.
이 연산을 통해 입력 신호의 특정 특징을 강조하거나 잡음을 제거할 수 있습니다.

2. 점 확산 함수(PSF)

점 확산 함수는 시스템이나 장치가 점 광원으로부터의 정보를 어떻게 확산시키는지를 나타내는 함수입니다. 카메라나 망원경 등에서 사용되며, 수식으로는 다음과 같이 표현할 수 있습니다:

$$
[
PSF(x, y) = \int_{-\infty}^{\infty} I(x', y') \cdot H(x - x', y - y') dx' dy'
]
$$

여기서,

(I(x', y'))는 입력 이미지,
(H(x - x', y - y'))는 PSF입니다.

컨볼루션과 점 확산 함수는 이미지 처리 및 신호 처리에서 필수적인 개념으로, 각각의 수학적 표현을 통해 신호의 특성을 이해하고 시스템의 응답을 분석하는 데 중요한 역할을 합니다. 이를 통해 다양한 이미지를 효과적으로 처리할 수 있습니다. 

# 2.4 SEQUENTIAL VERSUS PARALLEL OPERATIONS
병렬 처리: 많은 픽셀을 동시에 처리하는 방식으로, 별도의 입력 및 출력 공간을 필요로 합니다. 직렬 컴퓨터가 병렬 컴퓨터를 시뮬레이션할 때 이 방식을 사용해야 합니다.

직렬 처리의 문제점: 일부 연산은 불완전하게 수행될 경우 출력 값이 이미 처리된 픽셀값에 의존하게 되어 오류가 발생할 수 있습니다.

단일 픽셀 연산: 일부 처리(예: 강도 조정, 임계값 처리)는 단일 픽셀만 참조하므로 직렬 방식으로도 수행될 수 있습니다.

알고리즘 설계 시 주의: 병렬 처리를 염두에 두고 알고리즘을 설계하는 것이 가장 안전하며, 필요 시 직렬 처리를 고려해야 합니다.

이러한 내용은 영상 처리의 효율성과 정확성을 확보하는 데 중요한 가이드라인이 될 것입니다. 

